#lang rhombus/static
  
check:
  class Posn(x, y):
    implements Printable
    override print(mode, recur):
      "_" +& x +& "," +& y +& "_"
  "" +& Posn(1, 2)
  ~is "_1,2_"

block:
  class Posn(x, y):
    implements Printable
    override print(mode, recur):
      import: .Printable open
      sequence("(", align(sequence(recur(x, mode), ",", newline(),
                                   recur(y), ")")))
  check "" +& Posn(1, 2) ~is "(1,\n 2)"
  check "" +& Posn("a", "b") ~is "(a,\n \"b\")"
  check to_expr_string(Posn("a", "b")) ~is "(\"a\",\n \"b\")"
  check "" +& Posn(Posn(1, 2), Posn(3, 4)) ~is "((1,\n  2),\n (3,\n  4))"

check:
  class Posn(x, y):
    private implements Printable
    private override print(mode, recur):
      "_" +& x +& "," +& y +& "_"
  "" +& Posn(1, 2)
  ~is "_1,2_"
